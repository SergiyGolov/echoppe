<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head th:insert="fragments/fragments.html :: header" />

<body>

	<div th:replace="fragments/fragments.html :: navigation"></div>

	<div class="container">
		<div class="card">
			<div class="card-header">
				<h2>Liste des articles</h2>
			</div>
			<div class="card-body">
				<table class="table">
					<thead>
						<tr>
							<th scope="col">Nom</th>
							<th scope="col">Prix</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="article: ${articles}">
							<td><a th:href="@{'/article/' + ${article.id}}" th:text="${article.name}"/></td>
							<td th:text="${article.price}"></td>
						</tr>
						<tr sec:authorize="hasRole('ROLE_ADMIN')">
							<td><a href="/input_articles"
								class="btn btn-primary btn-lg active" role="button"
								aria-pressed="true">Nouvel article</a></td>
							<td></td>
						</tr>
					</tbody>
				</table>
				Page: 
				<th:block th:if="${search eq '0'}" th:each="i: ${#numbers.sequence(1, pageNb)}">
				    <a th:href="@{'/articles/' + ${i}}" th:if="${pageNum == i}" class="active" ><strong th:text="${i}"></strong></a>
				    <a th:href="@{'/articles/' + ${i}}" th:unless="${pageNum == i}" th:text="${i}"></a>
				</th:block>
				<th:block th:if="${search eq '1'}" th:each="i: ${#numbers.sequence(1, pageNb)}">
				    <a th:href="@{'/search/'+${searchQuery}+'/' + ${i}}" th:if="${pageNum == i}" class="active" ><strong th:text="${i}"></strong></a>
				    <a th:href="@{'/search/'+${searchQuery}+'/' + ${i}}" th:unless="${pageNum == i}" th:text="${i}"></a>
				</th:block>
			</div>


		</div>


		<div th:replace="fragments/fragments.html :: scripts"></div>
</body>
</html>